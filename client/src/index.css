/* 引入 Tailwind 基础样式 */
@import 'tailwindcss/base';
/* 引入 Tailwind 组件样式 */
@import 'tailwindcss/components';
@tailwind utilities;

/* 黑金主題基色變數 */
:root {
  --black-true: #121212; /* 深沉質感黑 */
  --black-light: #1e1e1e; /* 黑的漸層亮面 */
  --gold-true: #D4AF37;   /* 典雅金色 */
  --gold-dark: #B8860B;   /* 金色陰影/漸層深面 */
}

@layer base {
  html {
    font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', 'PingFang TC', 'Noto Sans CJK', 'Microsoft YaHei', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
  }
  
  body {
    background-color: var(--black-true);
    color: var(--gold-100);
    /* 黑色主背景採用 #121212 與較亮黑的柔和漸層 */
    background: linear-gradient(135deg, var(--black-true) 0%, var(--black-light) 50%, var(--black-true) 100%);
  }
}

@layer components {
  /* 活動圖片響應式容器與比例控制 */
  .event-poster-container {
    width: 100%;
    max-width: 960px;
    margin: 0 auto;
    border-radius: 0.75rem; /* 對齊整體圓角風格 */
    background-color: #f9fafb; /* 預設：舊版白灰底（可用變體覆蓋） */
    overflow: hidden; /* 防止內容溢出 */
    aspect-ratio: 4 / 3; /* 行動裝置預設比例：4:3，避免過高或過窄 */
  }
  @media (min-width: 640px) {
    .event-poster-container {
      aspect-ratio: 16 / 9; /* 中小螢幕以上採用 16:9，更符合橫幅型海報 */
    }
  }
  @media (min-width: 1024px) {
    .event-poster-container {
      max-width: 1100px; /* 大螢幕上適度放大展示 */
    }
  }

  .event-poster-img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: contain; /* 保持圖片完整與正確比例，不裁切內容 */
    object-position: center;
    image-rendering: auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #f9fafb; /* 若透明背景，保持一致的底色 */
  }

  /* ===== Poster Variants ===== */
  /* 無底色：移除任何容器與圖片背景色，避免白底突兀 */
  .event-poster-container.poster--no-bg {
    background-color: transparent;
  }
  .event-poster-container.poster--no-bg .event-poster-img {
    background-color: transparent;
  }

  /* 原始尺寸：取消固定比例，依圖片本身高寬顯示 */
  .event-poster-container.poster--intrinsic {
    aspect-ratio: auto;
    overflow: visible;
  }
  .event-poster-container.poster--intrinsic .event-poster-img {
    height: auto;
  }

  /* 精緻留白：為圖片周圍提供柔和間距，避免突兀 */
  .event-poster-container.poster--compact {
    padding: clamp(8px, 2vw, 16px);
    box-sizing: border-box;
  }

  /* 系統配色主題：黑金卡片一致背景，取代白底 */
  .event-poster-container.poster--theme {
    background: linear-gradient(135deg, var(--black-true) 0%, var(--black-light) 50%, var(--black-true) 100%);
    border: 1px solid rgba(217, 119, 6, 0.35);
  }
  .event-poster-container.poster--theme .event-poster-img {
    background-color: transparent;
  }

  /* Scrollbar Hide */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
  /* Alias utility for hiding scrollbar (requested as no-scrollbar) */
  .no-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;     /* Firefox */
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none;             /* Chrome, Safari and Opera */
  }
  
  /* Button Components - 優化黑金色調配置 */
  .btn-primary {
    @apply font-medium py-2 px-4 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-lg hover:shadow-xl;
    /* 金色主按鈕：優化金屬質感與對比度 */
    background: linear-gradient(135deg, #D4AF37 0%, #B8860B 50%, #DAA520 100%);
    color: #1a1a1a;
    border: 1px solid rgba(212, 175, 55, 0.4);
    box-shadow: 0 4px 16px rgba(212, 175, 55, 0.4), 0 2px 8px rgba(0, 0, 0, 0.3);
    focus-ring-color: rgba(212, 175, 55, 0.6);
    focus-ring-offset-color: #121212;
  }
  
  .btn-primary:hover {
    background: linear-gradient(135deg, #DAA520 0%, #CD853F 50%, #D4AF37 100%);
    box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5), 0 4px 12px rgba(0, 0, 0, 0.4);
    transform: translateY(-1px);
  }
  
  .btn-secondary {
    @apply font-medium py-2 px-4 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-lg hover:shadow-xl;
    /* 黑色次按鈕：深邃黑底配金色文字與邊框 */
    background: linear-gradient(135deg, #121212 0%, #1e1e1e 50%, #2a2a2a 100%);
    color: #D4AF37;
    border: 1px solid rgba(212, 175, 55, 0.6);
    box-shadow: 0 4px 18px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(212, 175, 55, 0.3);
    focus-ring-color: rgba(212, 175, 55, 0.6);
    focus-ring-offset-color: #121212;
  }
  
  .btn-secondary:hover {
    background: linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 50%, #363636 100%);
    color: #DAA520;
    border-color: rgba(218, 165, 32, 0.8);
    box-shadow: 0 6px 22px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(218, 165, 32, 0.4);
    transform: translateY(-1px);
  }
  
  .btn-outline {
    @apply font-medium py-2 px-4 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-lg hover:shadow-xl;
    /* 輪廓按鈕：透明背景配金色邊框與文字 */
    background: rgba(18, 18, 18, 0.3);
    color: #D4AF37;
    border: 2px solid rgba(212, 175, 55, 0.7);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(8px);
    focus-ring-color: rgba(212, 175, 55, 0.6);
    focus-ring-offset-color: #121212;
  }
  
  .btn-outline:hover {
    background: rgba(212, 175, 55, 0.15);
    color: #DAA520;
    border-color: rgba(218, 165, 32, 0.9);
    box-shadow: 0 4px 16px rgba(212, 175, 55, 0.3), 0 2px 8px rgba(0, 0, 0, 0.4);
    transform: translateY(-1px);
  }
  
  .btn-gold {
    @apply font-medium py-2 px-4 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-lg hover:shadow-xl;
    /* 金色變體：與主按鈕一致但更突出的金色效果 */
    background: linear-gradient(135deg, #D4AF37 0%, #B8860B 50%, #DAA520 100%);
    color: #1a1a1a;
    border: 1px solid rgba(212, 175, 55, 0.4);
    box-shadow: 0 4px 16px rgba(212, 175, 55, 0.4), 0 2px 8px rgba(0, 0, 0, 0.3);
    focus-ring-color: rgba(212, 175, 55, 0.6);
    focus-ring-offset-color: #121212;
  }
  
  .btn-gold:hover {
    background: linear-gradient(135deg, #DAA520 0%, #CD853F 50%, #D4AF37 100%);
    box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5), 0 4px 12px rgba(0, 0, 0, 0.4);
    transform: translateY(-1px);
  }

  .btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
  }
  
  /* Form Components */
  .form-input {
    @apply w-full px-3 py-2 border border-gold-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-400 focus:border-gold-500 transition-all duration-300 bg-primary-800 text-gold-100 placeholder-gold-300;
    background: linear-gradient(135deg, #262626 0%, #404040 100%);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .form-label {
    @apply block text-sm font-medium text-gold-300 mb-1;
  }
  
  .form-error {
    @apply text-red-400 text-sm mt-1;
  }
  
  /* Card Components */
  .card {
    @apply bg-primary-800 rounded-lg shadow-elegant p-6 border border-gold-600;
    background: linear-gradient(135deg, var(--black-true) 0%, var(--black-light) 50%, var(--black-true) 100%);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(217, 119, 6, 0.2);
  }
  
  .card-header {
    @apply border-b border-gold-600 pb-4 mb-4;
  }
  
  /* Navigation Components */
  .nav-link {
    @apply text-gold-300 hover:text-gold-100 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-primary-700;
  }
  
  .nav-link-active {
    @apply text-gold-100 bg-gold-600 px-3 py-2 rounded-md text-sm font-medium shadow-lg;
    background: linear-gradient(135deg, var(--gold-true) 0%, var(--gold-dark) 100%);
    box-shadow: 0 4px 16px rgba(212, 175, 55, 0.35);
  }
  
  /* Status Badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium shadow-sm;
  }
  
  .badge-success {
    @apply bg-green-900 text-green-300 border border-green-600;
  }
  
  .badge-warning {
    @apply bg-accent-900 text-accent-300 border border-accent-600;
  }
  
  .badge-danger {
    @apply bg-red-900 text-red-300 border border-red-600;
  }
  
  .badge-info {
    @apply bg-primary-700 text-gold-300 border border-gold-600;
  }
  
  /* Additional Black Gold Theme Components */
  .input {
    @apply w-full px-3 py-2 border border-gold-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-400 focus:border-gold-500 transition-all duration-300 bg-primary-800 text-gold-100 placeholder-gold-300;
    background: linear-gradient(135deg, #262626 0%, #404040 100%);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .table-header {
    @apply bg-primary-700 text-gold-200 font-semibold;
    background: linear-gradient(135deg, #404040 0%, #525252 100%);
  }
  
  .table-row {
    @apply bg-primary-800 hover:bg-primary-700 transition-all duration-300 border-b border-gold-600;
  }
  
  .gold-accent {
    @apply text-gold-400;
    text-shadow: 0 0 10px rgba(217, 119, 6, 0.3);
  }
  
  .luxury-gradient {
    background: linear-gradient(135deg, var(--black-true) 0%, var(--black-light) 25%, #2a2a2a 50%, var(--black-light) 75%, var(--black-true) 100%);
  }
  
  .gold-glow {
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.45), 0 0 40px rgba(212, 175, 55, 0.25);
  }
  
  .text-shadow-gold {
    text-shadow: 0 2px 4px rgba(217, 119, 6, 0.3);
  }
  
  .badge-gold {
    @apply bg-gold-900 text-gold-300 border border-gold-600;
  }
  
  /* Loading Spinner */
  .spinner {
    @apply animate-spin rounded-full h-6 w-6 border-b-2 border-gold-600;
  }
  
  /* Membership Level Badges */
  .level-1 {
    @apply bg-gradient-to-r from-primary-700 to-primary-800 text-gold-300 border border-gold-600;
  }
  
  .level-2 {
    @apply bg-gradient-to-r from-accent-600 to-accent-700 text-primary-900 border border-accent-500;
  }
  
  .level-3 {
    @apply bg-gradient-to-r from-gold-600 to-gold-700 text-primary-900 border border-gold-500;
  }

  /* 個人資料頁：深金色文字強化（黑金質感） */
  .profile-page {
    color: var(--gold-true);
  }
  .profile-page .card-header h2,
  .profile-page .card-header p,
  .profile-page .label,
  .profile-page .form-label,
  .profile-page p,
  .profile-page small {
    color: var(--gold-true) !important;
  }
  .profile-page .input {
    color: var(--gold-true);
    background-color: var(--black-true);
    border-color: rgba(212, 175, 55, 0.35);
  }
  .profile-page .input:focus {
    border-color: rgba(212, 175, 55, 0.7);
    box-shadow: 0 0 0 1px rgba(212, 175, 55, 0.4);
  }
  .profile-page input::placeholder,
  .profile-page textarea::placeholder {
    color: rgba(212, 175, 55, 0.7);
  }
}

@layer utilities {
  /* 文字流排版：避免截斷與重疊，在不同裝置完整呈現 */
  .text-flow {
    overflow-wrap: anywhere;
    word-break: break-word;
    hyphens: auto;
    line-height: 1.6;
    text-wrap: pretty;
  }
  /* 標題流排版：平衡換行與可讀性 */
  .heading-flow {
    overflow-wrap: anywhere;
    word-break: break-word;
    hyphens: auto;
    line-height: 1.35;
    text-wrap: balance;
  }
  .text-shadow {
    text-shadow: 0 2px 4px rgba(217, 119, 6, 0.3);
  }
  
  .bg-gradient-primary {
    background: linear-gradient(135deg, var(--black-true) 0%, var(--black-light) 50%, var(--black-true) 100%);
  }
  
  .bg-gradient-gold {
    background: linear-gradient(135deg, var(--gold-true) 0%, var(--gold-dark) 100%);
  }

  /* Black-Gold overrides for existing white/gray utilities */
  .bg-white {
    @apply bg-primary-800 text-gold-100 border border-gold-600; /* 卡片白底改黑金卡片 */
    background: linear-gradient(135deg, #262626 0%, #404040 50%, #262626 100%) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(217, 119, 6, 0.2);
  }

  .bg-white\/90 {
    background-color: rgba(38, 38, 38, 0.9) !important; /* 取代半透明白 */
    border: 1px solid rgba(217, 119, 6, 0.6);
    color: #fef7cd;
  }

  .bg-gray-50 {
    @apply bg-primary-900 text-gold-100; /* 頁面白灰底改為深色底 */
    background: linear-gradient(135deg, #171717 0%, #262626 50%, #171717 100%) !important;
  }

  .bg-gray-100 {
    @apply bg-primary-800 text-gold-100; /* 區塊淺灰底改為深色區塊 */
    background: linear-gradient(135deg, #262626 0%, #404040 100%) !important;
  }

  .hover\:bg-gray-50:hover { @apply bg-primary-700 !important; }
  .hover\:bg-gray-100:hover { @apply bg-primary-700 !important; }
  .hover\:bg-gray-200:hover { @apply bg-primary-600 !important; }

  .border-gray-200 { @apply border-gold-600 !important; }
  .border-gray-300 { @apply border-gold-700 !important; }

  /* 調整表格分隔線顏色為金色調 */
  .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
    border-color: rgba(217, 119, 6, 0.3) !important;
  }

  /* 常見文字顏色映射為黑金系的金色，提升深色卡片上的可讀性 */
  .text-gray-900, .text-gray-800 { @apply text-gold-100 !important; }
  .text-gray-700 { @apply text-gold-200 !important; }
  .text-gray-600 { @apply text-gold-300 !important; }
  .text-gray-500, .text-gray-600 { @apply text-gold-200 !important; }
  .text-gray-400 { @apply text-gold-200 !important; }
  .text-gray-300, .text-gray-200, .text-gray-100 { @apply text-gold-100 !important; }

  /* Material UI (MUI) dark theme compatibility for readability */
  /* Typography using color="text.secondary" */
  .MuiTypography-colorTextSecondary { color: #facc15 !important; } /* gold-300 */
  .MuiTypography-colorTextPrimary { color: #fefce8 !important; } /* near gold-50 */

  /* Icons and subtle labels that default to low-contrast colors */
  .MuiSvgIcon-root { color: #facc15 !important; }
  .MuiInputBase-root .MuiSvgIcon-root { color: #facc15 !important; }

  /* Tabs/Chips/Badges subtle text */
  .MuiTab-root, .MuiChip-label, .MuiBadge-badge { color: #fde68a !important; }
  .MuiBadge-badge { background-color: rgba(217, 119, 6, 0.25) !important; }

  /* Text fields helper and placeholder colors */
  .MuiFormHelperText-root { color: #facc15 !important; }
  .MuiInputBase-input::placeholder { color: #facc15 !important; opacity: 0.8; }

  /* Success/Danger readability */
  .text-green-800, .text-green-700 { @apply text-green-300 !important; }
  .text-red-800, .text-red-700 { @apply text-red-300 !important; }
  .text-gray-500 { @apply text-gold-200 !important; }
  .placeholder-gray-500::placeholder { color: #facc15 !important; }
}

/* Custom scrollbar - 質感金色 */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #262626;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%);
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(234, 179, 8, 0.4);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #ca8a04 0%, #a16207 100%);
  box-shadow: 0 4px 8px rgba(234, 179, 8, 0.5);
}

/* Smooth transitions for all interactive elements */
* {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

  /* Restore Tailwind primary/blue mappings for dark theme */
  .text-primary-900, .text-primary-800, .text-primary-700 { @apply text-gold-100 !important; }
  .border-primary-300 { @apply border-gold-600 !important; }
  .hover\:bg-primary-50:hover { @apply bg-primary-700 !important; }
  .text-blue-700 { @apply text-gold-200 !important; }
  .border-blue-300 { @apply border-gold-600 !important; }
  .hover\:bg-blue-50:hover { @apply bg-primary-700 !important; }
/* 調整卡片內容避免溢出（圖片、長文字） */
.card {
  overflow: hidden; /* 防止內容超出或重疊框線 */
}

/* 行動版自適應字體與行距（基於 viewport 的 clamp） */
@layer base {
  html {
    /* 自適應根字體大小，便於 Tailwind rem 尺寸整體縮放 */
    font-size: clamp(14px, 1.8vw, 16px);
  }
  body {
    line-height: 1.6; /* 提升閱讀舒適度 */
    -webkit-text-size-adjust: 100%; /* iOS 字體縮放一致性 */
  }
  h1 { font-size: clamp(1.25rem, 4.8vw, 1.75rem); line-height: 1.35; }
  h2 { font-size: clamp(1.125rem, 4.2vw, 1.5rem); line-height: 1.4; }
  h3 { font-size: clamp(1rem, 3.8vw, 1.25rem); line-height: 1.45; }
  h4 { font-size: clamp(0.95rem, 3.4vw, 1.125rem); line-height: 1.5; }
  p, li { line-height: 1.7; margin-bottom: 0.75rem; }
  small { font-size: clamp(0.75rem, 2.8vw, 0.875rem); }

  /* 圖片在卡片內自動縮放，避免超出與拉伸 */
  .card img {
    max-width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
    border-radius: 0.5rem;
  }

  /* 長文字自動換行，避免溢出 */
  .card, .card * {
    word-wrap: break-word;
    overflow-wrap: anywhere;
  }
}

/* 觸控操作便利性：提升按鈕最小尺寸與可點擊範圍 */
@layer components {
  .btn-primary, .btn-secondary, .btn-gold, .btn-danger {
    min-height: 44px; /* iOS/Android 建議的最小觸控高度 */
    padding-top: 0.5rem; /* 保持一致的內距 */
    padding-bottom: 0.5rem;
  }

  /* 通用圖示按鈕（如關閉、左右箭頭） */
  .icon-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 0.5rem;
    background: rgba(64,64,64,0.4);
    border: 1px solid rgba(217,119,6,0.5);
    color: #fef7cd;
  }
  .icon-button:hover { background: rgba(64,64,64,0.6); }
}

/* 小螢幕優化：間距與排版微調 */
@media (max-width: 640px) {
  .card { padding: 1rem; }
  .card-header { padding-bottom: 0.5rem; margin-bottom: 0.75rem; }

  /* 表單元素間距與可點擊性 */
  label { line-height: 1.6; display: inline-block; }
  input[type="checkbox"] { width: 20px; height: 20px; }

  /* 防止圖片或內容超出容器（尤其是投放樣例/範例圖） */
  .image-container, .media-container {
    width: 100%;
    max-width: 100%;
    overflow: hidden;
    border-radius: 0.5rem;
    border: 1px solid rgba(217,119,6,0.4);
  }
  .image-container img, .media-container img {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  /* 文字區塊的左右內距加強，避免貼邊顯得擁擠 */
  .content-block { padding-left: 0.25rem; padding-right: 0.25rem; }
}